<!DOCTYPE html>
<!--[if lt IE 9]><html class="lt-ie9" lang="en"><![endif]-->
<!--[if gt IE 8]><!--><html lang="en"><!--<![endif]-->
  <head>
      <title>Service Innovation Lab</title>
    
<!-- depth = 4-->
<!-- base = ../../../..-->

<!-- Basic Page Needs
================================================== -->
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="google-site-verification" content="vmVo2wbQpKGMHVpllQP7bQ0w5gICWD356VH9DNbv5f4" />

<!-- Mobile Specific Metas
================================================== -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Meta tags
================================================== -->
<!-- Title -->

  <title>Service Innovation Lab | Testing our Toolkit</title>
  <meta property="og:title" content="Service Innovation Lab | Testing our Toolkit" />


<!-- Description -->

  <meta name="description" content="">
  <meta property="og:description" content="" />


<!-- Image -->


<!-- Author -->


<!-- Date -->

  <meta name="date" content="2019-07-31 00:00:00 +0000" scheme="YYYY-MM-DD">


<!-- Tags -->

  <meta name="keywords" content="open source and tech">


  <link rel="canonical" href="/2019/07/31/Testing-Our-Toolkit/" />

<!--[if lt IE 9]>
  <script src="/assets/js/vendor/html5shiv.js"></script>
  <script src="/assets/js/vendor/respond.js"></script>
  <script src="/assets/js/vendor/selectivizr-min.js"></script>
<![endif]-->
<!-- CSS
=================================================== -->
  <link rel="stylesheet" href="../../../../assets/css/main.css" media="all" />
  <link rel="stylesheet" href="../../../../assets/css/print.css" media="print" />
  </head>
  <body class="page-testing-our-toolkit
   single-post">

    
      
<!-- depth = 4-->
<!-- base = ../../../..-->
<a class="skipnav" href="#main-content">Skip to main content</a>
<header role="banner">
  <div class="site-navbar nz-grid" role="navigation" aria-label="Menu section">
    <button class="menu-btn">Menu</button>
    <a class="site-logo media_link" href="../../../../">
      <img src="../../../../assets/img/SIL-Logo-Animation.gif" alt="Service Innovation Lab logo" style = "height: 55px; width: 217px;"
      
    ></a><span class="beta" role="navigation">Beta</span>
      
        <span class="nz-sr-only" role="navigation">Service Innovation Lab</span>
      
    <nav role="navigation" aria-label="Menu section">
      


  
  <ul class="nz-accordion">
  
    <li>
      

      

      <a href="/about/" ><span>About</span></a>
    </li>
  
    <li>
      

      

      <a href="/expertise/" ><span>Expertise</span></a>
    </li>
  
    <li>
      

      

      <a href="/projects/" ><span>Projects</span></a>
    </li>
  
    <li>
      

      

      <a href="/tools/" ><span>Tools</span></a>
    </li>
  
    <li>
      

      

      <a href="/team/" ><span>Team</span></a>
    </li>
  
    <li>
      

      

      <a href="/contact/" ><span>Contact</span></a>
    </li>
  
</ul>









    </nav>
  </div>
</header>

    

    <div class="main-content" id="main-content" role="main">
      <div class="nz-grid">
  <a class="back-blog link-arrow-left" href="/blog/">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" aria-hidden="true" class="icon" enable-background="new 0 0 444.531 444.531" role="img" version="1.1" viewBox="0 0 444.531 444.531" xml:space="preserve"><title>Arrow left</title><desc>Arrow pointing to the left</desc><g><path fill="#046b99" d="M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835 l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425 c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564 s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978 L213.13,222.409z"/></g></svg>
    <span class="nz-sr-only">Back to</span>
    Reports
  </a>
  <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
    <header class="post-header">
      <h1 class="post-title" itemprop="name headline">Testing our Toolkit</h1>
      <p class="post-byline">
      <p class="post-byline">

  By
  
    <span itemprop="author" itemscope itemtype="http://schema.org/Person">
        <a class='post-author' itemprop='name' href='/author/brenda-wallace'>Brenda Wallace</a>
    </span>
    
    
  
</p>

        <time datetime="2019-07-31T00:00:00+00:00" itemprop="datePublished">July 31, 2019</time>
      </p>
      <span class="post-tags" itemprop="keywords">
        
          <a class="nz-label" href="/tags/open-source/">open source
          </a>
        
          <a class="nz-label" href="/tags/tech/">tech
          </a>
        
      </span>
    </header>

    <div class="post-content" itemprop="articleBody">
      

      <h2 id="tests-we-run">Tests we run</h2>

<p>This toolkit is built using an open-source tool called Jekyll. We write content in markdown format, which is then parsed by Jekyll which produces a static HTML website that we host on Github pages.</p>

<p>Content and other changes are proposed by team members using the pull requests on Github. There are a bunch of automated tests the proposed change must satisfy to be accepted (as well as manual testing). The automated tests are fast and means the pull request is in good shape by the time a team member begins their peer review. The tests catch many of our mistakes, as well as being an easy way to learn about content standards.</p>

<p><img src="/assets/media/testing.png" alt="Flow diagram of our tests" /></p>

<h3 id="our-tests">Our Tests</h3>

<p>We use a continuous integration service called <a href="https://circleci.com/">CircleCI</a> to run our tests. CircleCI is an open-source tool and is available to us for free because our projects are also Open Source (as per <a href="https://www.data.govt.nz/manage-data/policies/nzgoal/nzgoal-se/">NZGOAL</a>).</p>

<h4 id="yamllint">yamllint</h4>

<p>YAML is a standard format for configuration files (and also the name of Brenda’s cat). Jekyll uses YAML, so we use a linter to inspect our files.
<a href="https://yamllint.readthedocs.io/en/stable/"><code class="highlighter-rouge">yamllint</code></a> is a <a href="https://pypi.org/project/yamllint/">python tool available on pip</a>. It catches any strange/incorrect indenting with better and more helpful errors messages than the tool that reads those YAML.</p>

<h4 id="build">build</h4>

<p>CI builds the static content on every pull request to ensure that once your change it merged into mainline (the dev branch) it can be successfully built for deployment</p>

<h3 id="markdownlint">markdownlint</h3>

<p><a href="https://github.com/markdownlint/markdownlint"><code class="highlighter-rouge">markdownlint</code></a> is a linter that checks you have followed our style guide for markdown files. The linter catches when you’re using <strong>bold</strong> instead of headers. It fails your pull request if you don’t put descriptions on images if it’s not clear which are the header cells on a table, and if your header nesting doesn’t make sense in a tree structure.</p>

<h3 id="percy">percy</h3>

<p><a href="https://percy.io">Percy</a> is a service that takes screenshots of every page and compares them to the previous screenshot. If there are differences (i.e. you’ve modified a page on the toolkit) you’ll need to go to Percy and then view and approve the changes. If you’ve broken the display on a page, you’ll see it in the screenshots (and of course if you’ve broken a page, don’t approve it!)</p>

<h3 id="accessibility">accessibility</h3>

<p>The accessibility check uses a tool called <a href="https://github.com/pa11y/pa11y-ci">pa11y-ci</a> to check we adhere to WCAG21 standard. The <a href="https://www.digital.govt.nz/standards-and-guidance/nz-government-web-standards/web-accessibility-standard-1-1/">New Zealand Government - Web Accessibility Standard 1.1</a> is based on WCAG21. This linter is configured by a file named <code class="highlighter-rouge">.pa11yci.json</code>.</p>

<h2 id="conclusions">Conclusions</h2>

<p>Automated tests catch common mistakes quickly, and more thoroughly than our manual testing. A linter can give quick feedback on proposed changes before the author asks another team member for their peer review. With automated content testing, we can get better quality markup on our toolkit pages, and with a quicker publishing turnaround.</p>

<p>On a pull request the checks look like this:</p>

<p><img src="/assets/media/pull_request.png" alt="github screen shot, showing passing, failing, and pending checks" /></p>

    </div>
  </article>
</div>


  <section class="post-pagination nz-grid">
    <div class="nz-width-one-half">
      
        <a href="/2019/07/01/ACC-Better-Rules-Collaboration/">
          <span class="link-arrow-left">
            <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="512" height="512" x="0" y="0" aria-hidden="true" class="icon" enable-background="new 0 0 444.531 444.531" role="img" version="1.1" viewBox="0 0 444.531 444.531" xml:space="preserve"><title>Arrow left</title><desc>Arrow pointing to the left</desc><g><path fill="#046b99" d="M213.13,222.409L351.88,83.653c7.05-7.043,10.567-15.657,10.567-25.841c0-10.183-3.518-18.793-10.567-25.835 l-21.409-21.416C323.432,3.521,314.817,0,304.637,0s-18.791,3.521-25.841,10.561L92.649,196.425 c-7.044,7.043-10.566,15.656-10.566,25.841s3.521,18.791,10.566,25.837l186.146,185.864c7.05,7.043,15.66,10.564,25.841,10.564 s18.795-3.521,25.834-10.564l21.409-21.412c7.05-7.039,10.567-15.604,10.567-25.697c0-10.085-3.518-18.746-10.567-25.978 L213.13,222.409z"/></g></svg>
            Previous Post
          </span>
          <h5>&ldquo;ACC Better Rules Collaboration report summary&rdquo;</h5>
        </a>
      
    </div>
    <div class="nz-width-one-half">
      
    </div>
  </section>


<section class="nz-grid nz-section posts_feature">
  
    <h2>Related posts</h2>
  
  <ul>
  
    <li class="nz-width-one-third">
      <article>
        <p class="post-date">August 1, 2018</p>
        <h3 class="posts_feature-heading">
          <a href="/2018/08/01/Exploring-Optimistic-Futures-Workshop/">Transitioning to an Optimistic Futures Workshop - 18 May 2018
          
          </a>
        </h3>
        <p></p>
        <p>
          <a class="link-arrow-right post-link-continue_reading" href="/2018/08/01/Exploring-Optimistic-Futures-Workshop/">
            Continue reading
            <span class="nz-sr-only">about Transitioning to an Optimistic Futures Workshop - 18 May 2018</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="444.819" height="444.819" aria-hidden="true" class="icon" role="img" viewBox="0 0 444.819 444.819"><title>Arrow right</title><desc>Arrow pointing to the right</desc><path fill="#046b99" d="M352.025 196.712L165.885 10.848C159.028 3.615 150.468 0 140.185 0s-18.84 3.62-25.696 10.848l-21.7 21.416c-7.045 7.043-10.567 15.604-10.567 25.692 0 9.897 3.52 18.56 10.566 25.98L231.544 222.41 92.785 361.168c-7.04 7.043-10.563 15.604-10.563 25.693 0 9.9 3.52 18.566 10.564 25.98l21.7 21.417c7.043 7.043 15.612 10.564 25.697 10.564 10.09 0 18.656-3.52 25.697-10.564L352.025 248.39c7.046-7.423 10.57-16.084 10.57-25.98.002-10.09-3.524-18.655-10.57-25.698z"/></svg>
          </a>
        </p>
        <span class="post-tags" itemprop="keywords">
          
            <a class="nz-label" href="/tags/lessons-learned/">lessons learned
            </a>
          
            <a class="nz-label" href="/tags/open-source/">open source
            </a>
          
        </span>
      </article>
    </li>
    
    
    <li class="nz-width-one-third">
      <article>
        <p class="post-date">July 1, 2018</p>
        <h3 class="posts_feature-heading">
          <a href="/2018/07/01/Lab-Report/">The Service Innovation Lab 2017-18 FY Work Program Report
          
          </a>
        </h3>
        <p></p>
        <p>
          <a class="link-arrow-right post-link-continue_reading" href="/2018/07/01/Lab-Report/">
            Continue reading
            <span class="nz-sr-only">about The Service Innovation Lab 2017-18 FY Work Program Report</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="444.819" height="444.819" aria-hidden="true" class="icon" role="img" viewBox="0 0 444.819 444.819"><title>Arrow right</title><desc>Arrow pointing to the right</desc><path fill="#046b99" d="M352.025 196.712L165.885 10.848C159.028 3.615 150.468 0 140.185 0s-18.84 3.62-25.696 10.848l-21.7 21.416c-7.045 7.043-10.567 15.604-10.567 25.692 0 9.897 3.52 18.56 10.566 25.98L231.544 222.41 92.785 361.168c-7.04 7.043-10.563 15.604-10.563 25.693 0 9.9 3.52 18.566 10.564 25.98l21.7 21.417c7.043 7.043 15.612 10.564 25.697 10.564 10.09 0 18.656-3.52 25.697-10.564L352.025 248.39c7.046-7.423 10.57-16.084 10.57-25.98.002-10.09-3.524-18.655-10.57-25.698z"/></svg>
          </a>
        </p>
        <span class="post-tags" itemprop="keywords">
          
            <a class="nz-label" href="/tags/open-source/">open source
            </a>
          
        </span>
      </article>
    </li>
    
    
    <li class="nz-width-one-third">
      <article>
        <p class="post-date">June 1, 2018</p>
        <h3 class="posts_feature-heading">
          <a href="/2018/06/01/aotearoa-new-zealand-government-innovation-assets-risks-matti-schneider/">Aotearoa New Zealand Government Innovation Assets and Risks
          
          </a>
        </h3>
        <p></p>
        <p>
          <a class="link-arrow-right post-link-continue_reading" href="/2018/06/01/aotearoa-new-zealand-government-innovation-assets-risks-matti-schneider/">
            Continue reading
            <span class="nz-sr-only">about Aotearoa New Zealand Government Innovation Assets and Risks</span>
            <svg xmlns="http://www.w3.org/2000/svg" width="444.819" height="444.819" aria-hidden="true" class="icon" role="img" viewBox="0 0 444.819 444.819"><title>Arrow right</title><desc>Arrow pointing to the right</desc><path fill="#046b99" d="M352.025 196.712L165.885 10.848C159.028 3.615 150.468 0 140.185 0s-18.84 3.62-25.696 10.848l-21.7 21.416c-7.045 7.043-10.567 15.604-10.567 25.692 0 9.897 3.52 18.56 10.566 25.98L231.544 222.41 92.785 361.168c-7.04 7.043-10.563 15.604-10.563 25.693 0 9.9 3.52 18.566 10.564 25.98l21.7 21.417c7.043 7.043 15.612 10.564 25.697 10.564 10.09 0 18.656-3.52 25.697-10.564L352.025 248.39c7.046-7.423 10.57-16.084 10.57-25.98.002-10.09-3.524-18.655-10.57-25.698z"/></svg>
          </a>
        </p>
        <span class="post-tags" itemprop="keywords">
          
            <a class="nz-label" href="/tags/open-source/">open source
            </a>
          
        </span>
      </article>
    </li>
    
      
  </ul>
</section>


    </div>

    




  
  

<nav class="nav-accordion nav-mobile" role="navigation">
  <button class="sliding-panel-close">
    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" id="Capa_1" width="512" height="512" x="0" y="0" aria-hidden="true" class="icon" enable-background="new 0 0 339.177 339.177" role="img" version="1.1" viewBox="0 0 339.177 339.177" xml:space="preserve"><title>Closing tab</title><g><path fill="#5b616b" d="M247.244,169.59l83.938-83.938c5.332-5.327,7.994-11.798,7.994-19.414c0-7.614-2.669-14.084-7.994-19.414L292.355,7.993 C287.026,2.665,280.556,0,272.944,0c-7.617,0-14.085,2.665-19.417,7.993L169.59,91.931L85.651,7.993 C80.325,2.665,73.854,0,66.237,0c-7.611,0-14.083,2.665-19.414,7.993L7.994,46.824C2.667,52.15,0,58.624,0,66.238 c0,7.616,2.664,14.084,7.994,19.414l83.937,83.938L7.994,253.528C2.667,258.859,0,265.327,0,272.945 c0,7.61,2.664,14.082,7.994,19.41l38.83,38.828c5.33,5.332,11.803,7.994,19.414,7.994c7.616,0,14.084-2.669,19.414-7.994 l83.939-83.938l83.944,83.938c5.328,5.332,11.793,7.994,19.417,7.994c7.611,0,14.082-2.669,19.411-7.994l38.82-38.828 c5.332-5.324,7.994-11.8,7.994-19.41c0-7.618-2.662-14.086-7.994-19.417L247.244,169.59z"/></g></svg>
  </button>

  <ul class="nz-sidenav-list">
  
    <li>
    

    

    <a href="/about/" >About</a>
    
    </li>
  
    <li>
    

    

    <a href="/expertise/" >Expertise</a>
    
    </li>
  
    <li>
    

    

    <a href="/projects/" >Projects</a>
    
    </li>
  
    <li>
    

    

    <a href="/tools/" >Tools</a>
    
    </li>
  
    <li>
    

    

    <a href="/team/" >Team</a>
    
    </li>
  
    <li>
    

    

    <a href="/contact/" >Contact</a>
    
    </li>
  
  </ul>
</nav>








    <script src="/assets/js/jquery.min.js"></script>
<script src="/assets/js/waypoints.min.js" type="text/javascript"></script>
<script src="/assets/js/index.js"></script>
<script src="/assets/js/waypoints.js"></script>
<script src="/assets/js/jekyll-pages-api-search.js"></script>
<script src="/assets/js/sticky.js"></script>

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', '', 'auto');
  ga('set', 'anonymizeIp', true);
  ga('set', 'forceSSL', true);
  ga('send', 'pageview');
</script>

    <script src="/assets/js/search-constants.js"></script>
<script async src="/assets/js/search-bundle.js"></script>
    
<!-- depth = 4-->
<!-- base = ../../../..-->
<section class="blog-footer nz-section background-medium">
  <div class="nz-grid" role="region" aria-label="footer region">
    <div class="nz-width-one-fourth" role="img">
      <img class="govt-logo" src="../../../../assets/img/footer-logo-govt.png" alt="NZ Government logo">
      <p class="copyright">Crown Copyright</p>
    </div>
    <div class="nz-width-three-fourths creative-commons" role="img">
      <a href="https://creativecommons.org/licenses/by/4.0/">
      <img src="../../../../assets/img/cc_icons.png" alt="Creative Commons 4.0 International Licence" width="85" height="40"></a>
      <span class="licence" role="contentinfo">Unless indicated otherwise, all content on
        <span property="http://purl.org/dc/terms/title" role="contentinfo">Govt.nz</span> is licensed for re-use under a <a href="https://creativecommons.org/licenses/by/4.0/" rel="external" class="external">Creative
      Commons 4.0 International Licence.<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="16" height="16" version="1.1" viewBox="0 0 16 16"><g class="surface1"><path d="M 9 2 L 9 3 L 12.292969 3 L 6.023438 9.273438 L 6.726563 9.976563 L 13 3.707031 L 13 7 L 14 7 L 14 2 Z M 4 4 C 2.894531 4 2 4.894531 2 6 L 2 12 C 2 13.105469 2.894531 14 4 14 L 10 14 C 11.105469 14 12 13.105469 12 12 L 12 7 L 11 8 L 11 12 C 11 12.550781 10.550781 13 10 13 L 4 13 C 3.449219 13 3 12.550781 3 12 L 3 6 C 3 5.449219 3.449219 5 4 5 L 8 5 L 9 4 Z"/></g></svg></a></span>
      </a>
    </div>
  </div>
</section>

  </body>
</html>
